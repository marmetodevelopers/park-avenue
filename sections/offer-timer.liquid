{{ 'offer-timer.css' | asset_url |  stylesheet_tag }}
<script src="{{ 'offer-timer.js' | asset_url }}" defer="defer"></script>

{% style %}
    .section-{{ section.id }}-padding {
        padding-top: {{ section.settings.mobile-padding-top }}px;
        padding-bottom: {{ section.settings.mobile-padding-bottom  }}px;
        @media screen and (min-width: 750px){
            padding-top: {{ section.settings.padding-top }}px;
            padding-bottom: {{ section.settings.padding-bottom  }}px;
        }
    }
{% endstyle %}

<div id="countdown" class="section-{{ section.id }}-padding">
    <div class="countdown-image-container">
        {% if section.settings.banner_image != blank %}
            {% render "picture", class: "media media--countdown", mobileSrc: section.settings.banner_image, desktopSrc: section.settings.banner_image %}
        {% endif %}
        <div class="countdown-timer-container">
            <timer-element
                data-date-input="{{ section.settings.date }}"
            >
                <div class="timer">
                    <div class="timer-digits">
                        <div>
                            <p>
                            <span id="countdownDays">00</span>
                                {% render "timer-arrow" %}
                            </p>
                        </div>
                        <span class="text">DAYS</span>
                    </div>
                    <span class="dot">:</span>
                    <div class="timer-digits">
                        <div>
                            <p>
                                <span id="countdownHours">00</span>
                                {% render "timer-arrow" %}
                            </p>
                        </div>
                        <span class="text">HOURS</span>
                    </div>
                    <span class="dot">:</span>
                    <div class="timer-digits">
                        <div>
                            <p>
                                <span id="countdownMinutes">00</span>
                                {% render "timer-arrow" %}
                            </p>
                        </div>
                        <span class="text">MINUTES</span>
                    </div>
                </div>
            </timer-element>
        </div>
    </div>
</div>

{% schema %}
    {
        "name": "Offer countdown timer",
        "settings": [
            {
                "type": "image_picker",
                "id": "banner_image",
                "label": "Select countdown banner image"
            },
            {
                "type": "header",
                "content": "Countdown Timer Settings"
            }, 
            {
                "type": "text",
                "id": "date",
                "label": "Date",
                "info": "Ex: 01/02/2024 recommended(DD/MM/YYYY)"
            },
            {
                "type": "color_scheme",
                "id": "color_scheme",
                "default": "scheme_1",
                "label": "Color Scheme"
            },
            {
                "type": "header",
                "content": "Mobile padding settings"
            },
            {
                "type": "range",
                "id": "mobile-padding-top",
                "label": "Top padding",
                "min": 0,
                "max": 100,
                "step": 4,
                "unit": "px",
                "default": 48
            },
            {
                "type": "range",
                "id": "mobile-padding-bottom",
                "label": "Bottom padding",
                "min": 0,
                "max": 100,
                "step": 4,
                "unit": "px",
                "default": 0
            },
            {
                "type": "header",
                "content": "Desktop padding settings"
            },
            {
                "type": "range",
                "id": "padding-top",
                "label": "Top padding",
                "min": 0,
                "max": 100,
                "step": 4,
                "unit": "px",
                "default": 64
                },
                {
                "type": "range",
                "id": "padding-bottom",
                "label": "Bottom padding",
                "min": 0,
                "max": 100,
                "step": 4,
                "unit": "px",
                "default": 0
            }
        ],
        "presets": [
            {
                "name": "Offer countdown timer"
            }
        ]
    }
{% endschema %}
